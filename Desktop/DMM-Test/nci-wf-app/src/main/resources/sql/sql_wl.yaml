#操作者のアクセス可能な任意のトレイ設定を抽出
WL0000_01: |+
 select /* WL0000_01 */
  X.PRIORITY, TC.*
 from (
  (
   select 1 as PRIORITY, TCP.TRAY_CONFIG_ID
   from MWM_TRAY_CONFIG_PERSON TCP
   where TCP.CORPORATION_CODE = ? and TCP.USER_CODE = ? and TCP.TRAY_TYPE = ? and TCP.DELETE_FLAG = '0'
  ) union all (
   select 2 as PRIORITY, TCP.TRAY_CONFIG_ID
   from MWM_TRAY_CONFIG_PERSON TCP
   where TCP.CORPORATION_CODE = ? and TCP.USER_CODE = ? and TCP.TRAY_TYPE = ? and TCP.DELETE_FLAG = '0'
  ) union all (
   select 3 as PRIORITY, TC.TRAY_CONFIG_ID
   from MWM_TRAY_CONFIG TC
   where TC.CORPORATION_CODE = ? and TC.SYSTEM_FLAG = '1' and TC.DELETE_FLAG = '0'
  )
 ) X
  inner join MWV_TRAY_CONFIG TC
   on TC.TRAY_CONFIG_ID = X.TRAY_CONFIG_ID
   and TC.LOCALE_CODE = ?
 order by
  X.PRIORITY, TC.SORT_ORDER, TC.TRAY_CONFIG_ID

#トレイ設定検索条件を抽出
WL0000_03: |+
 select /* WL0000_03 */
  C.TRAY_CONFIG_CONDITION_ID, nvl(M.VAL, B.BUSINESS_INFO_NAME) as BUSINESS_INFO_NAME
  , B.CORPORATION_CODE, B.BUSINESS_INFO_CODE, C.CONDITION_MATCH_TYPE
  , C.TRAY_INIT_VALUE1, C.TRAY_INIT_VALUE2, C.TRAY_INIT_VALUE3, C.TRAY_INIT_VALUE4
  , B.DATA_TYPE
 from MWM_TRAY_CONFIG_CONDITION C
  inner join MWM_BUSINESS_INFO_NAME B
   on B.CORPORATION_CODE = C.CORPORATION_CODE
   and B.BUSINESS_INFO_CODE = C.BUSINESS_INFO_CODE
   and B.DELETE_FLAG = '0'
   and B.VALID_FLAG = '1'
  left join MWM_MULTILINGUAL M
   on M.TABLE_NAME = 'MWM_BUSINESS_INFO_NAME'
   and M.ID = B.BUSINESS_INFO_NAME_ID
   and M.COLUMN_NAME = 'BUSINESS_INFO_NAME'
   and M.LOCALE_CODE = ?
   and M.DELETE_FLAG = '0'
 where
  C.DELETE_FLAG = '0' and C.TRAY_CONFIG_ID = ?
 order by
  C.SORT_ORDER, C.TRAY_CONFIG_CONDITION_ID

#トレイ設定検索結果を抽出
WL0000_04: |+
 select /* WL0000_04 */
  R.TRAY_CONFIG_RESULT_ID, nvl(M.VAL, B.BUSINESS_INFO_NAME) as BUSINESS_INFO_NAME
  , B.BUSINESS_INFO_CODE, R.ALIGN_TYPE, R.COL_WIDTH
  , R.INITIAL_SORT_FLAG, R.INITIAL_SORT_DESC_FLAG, R.LINK_FLAG
  , B.DATA_TYPE
 from MWM_TRAY_CONFIG_RESULT R
  inner join MWM_BUSINESS_INFO_NAME B
   on B.CORPORATION_CODE = R.CORPORATION_CODE
   and B.BUSINESS_INFO_CODE = R.BUSINESS_INFO_CODE
   and B.DELETE_FLAG = '0'
   and B.VALID_FLAG = '1'
  left join MWM_MULTILINGUAL M
   on M.TABLE_NAME = 'MWM_BUSINESS_INFO_NAME'
   and M.ID = B.BUSINESS_INFO_NAME_ID
   and M.COLUMN_NAME = 'BUSINESS_INFO_NAME'
   and M.LOCALE_CODE = ?
   and M.DELETE_FLAG = '0'
 where
  R.DELETE_FLAG = '0' and R.TRAY_CONFIG_ID = ?
 order by
  R.SORT_ORDER, R.TRAY_CONFIG_RESULT_ID

#画面一覧を抽出
WL0000_05: |+
 select /* WL0000_05 */ * from MWV_SCREEN
 where CORPORATION_CODE = ? and LOCALE_CODE = ? and DELETE_FLAG = '0'
 order by CORPORATION_CODE, CONTAINER_NAME, CONTAINER_CODE

#画面プロセス一覧を抽出
WL0000_06: |+
 select /* WL0000_06 */ * from MWV_SCREEN_PROCESS_DEF
 where CORPORATION_CODE = ? and LOCALE_CODE = ? and DELETE_FLAG = '0'
 order by CORPORATION_CODE, SORT_ORDER, SCREEN_PROCESS_NAME, PROCESS_DEF_CODE, PROCESS_DEF_DETAIL_CODE, SCREEN_PROCESS_ID

#画面プロセスコードをキーに画面プロセスビュー抽出
WL0000_07: |+
 select /* WL0000_07 */ *
 from MWV_SCREEN_PROCESS_DEF
 where CORPORATION_CODE = ?
  and SCREEN_PROCESS_CODE = ?
  and LOCALE_CODE = ?

#画面プロセスコードをキーに画面プロセスビュー抽出
WL0000_08: |+
 select /* WL0000_08 */ *
 from MWM_SCREEN
 where CORPORATION_CODE = ? and SCREEN_CODE = ?


#トレイ設定の選択肢を抽出
WL0010_01: |+
 select /* WL0010_01 */
  ${REPLACE}
 from
  MWV_TRAY_CONFIG TC
 where
  TC.LOCALE_CODE = ?
  and TC.CORPORATION_CODE = ?
  and TC.PERSONAL_USE_FLAG = ?

WL0010_02: |+
  TC.TRAY_CONFIG_ID, TC.CORPORATION_CODE, TC.TRAY_CONFIG_CODE
  , TC.TRAY_CONFIG_NAME, TC.SYSTEM_FLAG, TC.SYSTEM_FLAG_NAME
  , TC.PAGE_SIZE, TC.SORT_ORDER, TC.VERSION
  , TC.USER_CODE_CREATED, TC.USER_NAME_CREATED

#業務管理項目名の一覧を抽出
WL0011_02: |+
 select /* WL0011_02 */
  N.CORPORATION_CODE, N.BUSINESS_INFO_NAME_ID, N.BUSINESS_INFO_CODE, nvl(M.VAL, N.BUSINESS_INFO_NAME) as BUSINESS_INFO_NAME, N.DATA_TYPE
 from MWM_BUSINESS_INFO_NAME N
  inner join WFM_LOCALE L
   on L.LOCALE_CODE = ?
  left join MWM_MULTILINGUAL M
   on M.TABLE_NAME = 'MWM_BUSINESS_INFO_NAME'
   and M.MULTILINGUAL_ID = N.BUSINESS_INFO_NAME_ID
   and M.COLUMN_NAME = 'BUSINESS_INFO_NAME'
   and M.LOCALE_CODE = L.LOCALE_CODE
   and M.DELETE_FLAG = '0'
 where
  N.CORPORATION_CODE = ?
  and N.BUSINESS_INFO_TYPE in ('1', '3')
  and N.VALID_FLAG = '1'
  and N.DELETE_FLAG = '0'
 order by
  N.SORT_ORDER, N.BUSINESS_INFO_NAME_ID

#トレイ設定マスタの抽出
WL0011_03: |+
 select /* WL0011_03 */ C.*
 from MWV_TRAY_CONFIG C
 where C.LOCALE_CODE = ? and C.TRAY_CONFIG_ID = ? and C.DELETE_FLAG = '0'
 order by C.SORT_ORDER, C.TRAY_CONFIG_ID

#トレイ設定検索条件マスタの抽出
WL0011_04: |+
 select /* WL0011_04 */ C.TRAY_CONFIG_CONDITION_ID, C.CORPORATION_CODE, C.BUSINESS_INFO_CODE
  , C.CONDITION_MATCH_TYPE, C.SORT_ORDER, C.VERSION
  , C.TRAY_INIT_VALUE1, C.TRAY_INIT_VALUE2, C.TRAY_INIT_VALUE3, C.TRAY_INIT_VALUE4
  , nvl(M.VAL, B.BUSINESS_INFO_NAME) as BUSINESS_INFO_NAME
 from MWM_TRAY_CONFIG_CONDITION C
  inner join MWM_BUSINESS_INFO_NAME B
   on B.CORPORATION_CODE = C.CORPORATION_CODE
   and B.BUSINESS_INFO_CODE = C.BUSINESS_INFO_CODE
   and B.DELETE_FLAG = '0'
   and B.VALID_FLAG = '1'
  left join MWM_MULTILINGUAL M
   on M.TABLE_NAME = 'MWM_BUSINESS_INFO_NAME'
   and M.ID = B.BUSINESS_INFO_NAME_ID
   and M.COLUMN_NAME = 'BUSINESS_INFO_NAME'
   and M.LOCALE_CODE = ?
   and M.DELETE_FLAG = '0'
 where C.TRAY_CONFIG_ID = ? and C.DELETE_FLAG = '0'
 order by C.SORT_ORDER, C.TRAY_CONFIG_CONDITION_ID

#トレイ設定検索結果マスタの抽出
WL0011_05: |+
 select /* WL0011_05 */ R.TRAY_CONFIG_RESULT_ID, R.TRAY_CONFIG_ID
  , R.CORPORATION_CODE, R.BUSINESS_INFO_CODE, R.ALIGN_TYPE, R.COL_WIDTH, R.INITIAL_SORT_FLAG
  , R.INITIAL_SORT_DESC_FLAG, R.LINK_FLAG, R.SORT_ORDER, R.VERSION
  , nvl(M.VAL, B.BUSINESS_INFO_NAME) as BUSINESS_INFO_NAME
  from MWM_TRAY_CONFIG_RESULT R
  inner join MWM_BUSINESS_INFO_NAME B
   on B.CORPORATION_CODE = R.CORPORATION_CODE
   and B.BUSINESS_INFO_CODE = R.BUSINESS_INFO_CODE
   and B.DELETE_FLAG = '0'
   and B.VALID_FLAG = '1'
  left join MWM_MULTILINGUAL M
   on M.TABLE_NAME = 'MWM_BUSINESS_INFO_NAME'
   and M.ID = B.BUSINESS_INFO_NAME_ID
   and M.COLUMN_NAME = 'BUSINESS_INFO_NAME'
   and M.LOCALE_CODE = ?
   and M.DELETE_FLAG = '0'
 where R.TRAY_CONFIG_ID = ? and R.DELETE_FLAG = '0'
 order by R.SORT_ORDER, R.TRAY_CONFIG_RESULT_ID

#トレイ設定検索条件マスタの抽出
WL0011_06: |+
 select /* WL0011_06 */ * from MWM_TRAY_CONFIG_CONDITION
 where TRAY_CONFIG_ID = ? and DELETE_FLAG = '0'
 order by SORT_ORDER, TRAY_CONFIG_CONDITION_ID

#トレイ設定検索結果マスタの抽出
WL0011_07: |+
 select /* WL0011_07 */ * from MWM_TRAY_CONFIG_RESULT
 where TRAY_CONFIG_ID = ? and DELETE_FLAG = '0'
 order by SORT_ORDER, TRAY_CONFIG_RESULT_ID

#トレイ設定コードが自レコード以外であるか
WL0011_11: |+
 select /* WL0011_11 */ count(*)
 from MWM_TRAY_CONFIG
 where CORPORATION_CODE = ? and TRAY_CONFIG_CODE = ? and TRAY_CONFIG_ID != ?

#トレイ設定を抽出
WL0011_13: |+
 select /* WL0011_13 */ * from MWM_TRAY_CONFIG
 where CORPORATION_CODE = ?
 order by TRAY_CONFIG_ID

#トレイ設定個人マスタを抽出
WL0011_14: |+
 select /* WL0011_14 */ * from MWM_TRAY_CONFIG_PERSON
 where TRAY_CONFIG_ID in (
  select TRAY_CONFIG_ID from MWM_TRAY_CONFIG
  where CORPORATION_CODE = ?
 )
 order by TRAY_CONFIG_PERSONALIZE_ID

#トレイ設定検索条件マスタを抽出
WL0011_16: |+
 select /* WL0011_16 */ * from MWM_TRAY_CONFIG_CONDITION
 where TRAY_CONFIG_ID in (
  select TRAY_CONFIG_ID from MWM_TRAY_CONFIG
  where CORPORATION_CODE = ?
 )
 order by TRAY_CONFIG_CONDITION_ID

#トレイ設定検索結果マスタを抽出
WL0011_17: |+
 select /* WL0011_17 */ * from MWM_TRAY_CONFIG_RESULT
 where TRAY_CONFIG_ID in (
  select TRAY_CONFIG_ID from MWM_TRAY_CONFIG
  where CORPORATION_CODE = ?
 )
 order by TRAY_CONFIG_RESULT_ID

#多言語対応マスタを抽出
WL0011_18: |+
 select /* WL0011_18 */ *
 from MWM_MULTILINGUAL
 where TABLE_NAME = ? and DELETE_FLAG = '0' and ID in (
  select {PK_COL_NAME} from {TABLE_NAME} where {FILTER_BY_PK}
 )
 order by MULTILINGUAL_ID



#業務管理項目マスタを抽出
WL0011_19: |+
 select /* WL0011_19 */ * from MWM_BUSINESS_INFO_NAME
 where CORPORATION_CODE = ?
 order by SORT_ORDER, BUSINESS_INFO_NAME_ID

#トレイ設定個人マスタを抽出
WL0020_01: |+
 select /* WL0020_01 */ *
 from MWM_TRAY_CONFIG_PERSON P
 where
  P.CORPORATION_CODE = ?
  and P.USER_CODE = ?
  and P.DELETE_FLAG = '0'
 order by TRAY_CONFIG_PERSONALIZE_ID

#操作者のアクセス可能なトレイ設定を抽出
WL0020_02: |+
 select /* WL0020_02 */ TC.*
 from MWV_TRAY_CONFIG TC
 where
  TC.LOCALE_CODE = ?
  and TC.CORPORATION_CODE = ?
  and (
   (TC.PERSONAL_USE_FLAG = '0')
   or (TC.SYSTEM_FLAG = '1')
   or (TC.PERSONAL_USE_FLAG = '1' and TC.USER_CODE_CREATED = ?)
  )
 order by
  TC.SORT_ORDER, TC.TRAY_CONFIG_ID

#プロセスインスタンスから申請番号と件名を取得
WL0037_01: |+
 select PROCESS_ID, SUBJECT, APPLICATION_NO from WFT_PROCESS where CORPORATION_CODE = ? and PROCESS_ID = ?

#起案担当者選択用SQL
WL0100_01: |+
 select /* WL0100_01 */ ${REPLACE}$
 from WFV_SELECT_START_USER
 where
  CORPORATION_CODE = ?
  and USER_CODE_TRANSFER = ?
  and LOCALE_CODE = ?
  and (
   AUTH_TRANSFER_TYPE = '1' or
   (AUTH_TRANSFER_TYPE = '3' and CORPORATION_CODE_P = ? and PROCESS_DEF_CODE = ? and PROCESS_DEF_DETAIL_CODE = ?)
  )
