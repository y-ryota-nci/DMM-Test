#
TI0000_01: |+
 select /* TI0000_01 */ *
 from MWM_TABLE_SEARCH_COLUMN
 where DELETE_FLAG = '0' and TABLE_SEARCH_ID = ? and CONDITION_DISPLAY_TYPE in (?, ?)
 order by CONDITION_DISPLAY_POSITION asc, TABLE_SEARCH_COLUMN_ID asc

TI0000_02: |+
 select /* TI0000_02 */ *
 from MWM_TABLE_SEARCH_COLUMN
 where DELETE_FLAG = '0' and TABLE_SEARCH_ID = ? and RESULT_DISPLAY_TYPE in (?, ?)
 order by RESULT_DISPLAY_POSITION asc, TABLE_SEARCH_COLUMN_ID asc

TI0000_03: |+
 select /* TI0000_03 */ I.OPTION_ITEM_ID, I.OPTION_ID, I.CODE, nvl(M.VAL, I.LABEL) as LABEL, I.SORT_ORDER, I.VERSION
 from MWM_OPTION_ITEM I
  left join MWM_MULTILINGUAL M
   on M.TABLE_NAME = 'OPTION_NAME'
   and M.ID = I.OPTION_ITEM_ID
   and M.COLUMN_NAME = 'OPTION_NAME'
   and M.LOCALE_CODE = ?
   and M.DELETE_FLAG = '0'
 where
  I.DELETE_FLAG = '0'
  and I.OPTION_ID = ?
 order by
  I.OPTION_ID, I.SORT_ORDER, I.OPTION_ITEM_ID

#汎用テーブルのカテゴリ一覧
TI0010_01: |+
 select /*TI0010_01*/
  C.CATEGORY_ID,C.CORPORATION_CODE,C.CATEGORY_CODE
  ,nvl(M.VAL, C.CATEGORY_NAME) as CATEGORY_NAME,C.VERSION,C.DELETE_FLAG
  ,C.CORPORATION_CODE_CREATED,C.USER_CODE_CREATED,C.TIMESTAMP_CREATED
  ,C.CORPORATION_CODE_UPDATED,C.USER_CODE_UPDATED,C.TIMESTAMP_UPDATED
 from MWM_CATEGORY C
  left join MWM_MULTILINGUAL M
   on M.TABLE_NAME = 'MWM_CATEGORY'
   and M.ID = C.CATEGORY_ID
   and M.COLUMN_NAME = 'CATEGORY_NAME'
   and M.LOCALE_CODE = ?
   and M.DELETE_FLAG = '0'
 where
  C.CORPORATION_CODE = ?
 order by
  C.CATEGORY_CODE, C.CATEGORY_ID

#汎用テーブル一覧
TI0010_02: |+
 select /* TI0010_02 */
  T.TABLE_ID,T.TABLE_NAME,nvl(M.VAL, T.LOGICAL_TABLE_NAME) as LOGICAL_TABLE_NAME
  ,T.ENTITY_TYPE, T.VERSION,T.DELETE_FLAG
  ,T.CORPORATION_CODE_CREATED,T.USER_CODE_CREATED,T.TIMESTAMP_CREATED
  ,T.CORPORATION_CODE_UPDATED,T.USER_CODE_UPDATED,T.TIMESTAMP_UPDATED
 from MWM_TABLE T
  inner join MWM_CATEGORY_CONFIG CC
   on CC.TABLE_ID = T.TABLE_ID
   and CC.DELETE_FLAG = '0'
  inner join MWM_CATEGORY C
   on C.CORPORATION_CODE = CC.CORPORATION_CODE
   and C.CATEGORY_ID = CC.CATEGORY_ID
   and C.CORPORATION_CODE = ?
   and C.DELETE_FLAG = '0'
  left join MWM_MULTILINGUAL M
   on M.TABLE_NAME = 'MWM_TABLE'
   and M.ID = T.TABLE_ID
   and M.COLUMN_NAME = 'LOGICAL_TABLE_NAME'
   and M.LOCALE_CODE = ?
   and M.DELETE_FLAG = '0'
 where
  CC.CATEGORY_ID = ?
 order by
  T.TABLE_NAME

#汎用テーブル検索の削除
TI0010_04: |+
 delete /* TI0010_04 */ from MWM_TABLE_SEARCH where TABLE_ID = ?

#汎用テーブル検索カラムの削除
TI0010_05: |+
 delete /* TI0010_05 */ from MWM_TABLE_SEARCH_COLUMN where TABLE_SEARCH_ID in (
  select X.TABLE_SEARCH_ID
  from MWM_TABLE_SEARCH X
  where X.TABLE_ID = ?
 )

#汎用テーブルカテゴリ構成の抽出
TI0010_06: |+
 select /* TI0010_06 */ CC.*
 from MWM_CATEGORY_CONFIG CC
 where CC.CORPORATION_CODE = ?

#汎用マスタを抽出
TI0010_08: |+
 select /* TI0010_08 */ *
 from MWM_TABLE T
 where T.TABLE_NAME = ?

#汎用カテゴリ配下の汎用マスタの件数を返す
TI0010_09: |+
 select /* TI0010_09 */
  count(*)
 from MWM_CATEGORY C
  inner join MWM_CATEGORY_CONFIG CC
   on CC.CATEGORY_ID = C.CATEGORY_ID
   and CC.CORPORATION_CODE = C.CORPORATION_CODE
 where
  C.CORPORATION_CODE = ? and C.CATEGORY_ID = ?
 order by
  C.CATEGORY_CODE, C.CATEGORY_ID

#汎用カテゴリ権限一覧を返す
TI0021_01: |+
 select /* TI0021_01 */
    C.CATEGORY_ID
  , C.CORPORATION_CODE
  , nvl(M.VAL, C.CATEGORY_NAME) as CATEGORY_NAME
  , CA.CATEGORY_AUTHORITY_ID
  , CA.MENU_ROLE_CODE
  , CA.DELETE_FLAG
  , CA.VERSION
 from
  MWM_CATEGORY C
  left join MWM_MULTILINGUAL M
   on M.TABLE_NAME = 'MWM_CATEGORY'
   and M.ID = C.CATEGORY_ID
   and M.COLUMN_NAME = 'CATEGORY_NAME'
   and M.LOCALE_CODE = ?
   and M.DELETE_FLAG = '0'
  left join MWM_CATEGORY_AUTHORITY CA
   on CA.CORPORATION_CODE = C.CORPORATION_CODE
   and CA.CATEGORY_ID = C.CATEGORY_ID
   and CA.MENU_ROLE_CODE = ?
 where
  C.CORPORATION_CODE = ?
 order by
  C.CATEGORY_NAME, CA.CATEGORY_AUTHORITY_ID

#汎用テーブル権限一覧を返す
TI0021_02: |+
 select /* TI0021_02 */
  CC.CATEGORY_ID
  , T.TABLE_ID
  , T.TABLE_NAME
  , nvl(M.VAL, T.LOGICAL_TABLE_NAME) as LOGICAL_TABLE_NAME
  , TA.CORPORATION_CODE
  , TA.MENU_ROLE_CODE
  , TA.TABLE_AUTHORITY_ID
  , TA.DELETE_FLAG
 from
  MWM_CATEGORY_CONFIG CC
  inner join MWM_TABLE T
   on T.TABLE_ID = CC.TABLE_ID
  left join MWM_MULTILINGUAL M
   on M.TABLE_NAME = 'MWM_TABLE'
   and M.ID = T.TABLE_ID
   and M.COLUMN_NAME = 'LOGICAL_TABLE_NAME'
   and M.LOCALE_CODE = ?
   and M.DELETE_FLAG = '0'
  left join MWM_TABLE_AUTHORITY TA
   on TA.CORPORATION_CODE = CC.CORPORATION_CODE
   and TA.TABLE_ID = CC.TABLE_ID
   and TA.TABLE_ID = T.TABLE_ID
   and TA.MENU_ROLE_CODE = ?
 where
  CC.CORPORATION_CODE = ?
 order by
  T.TABLE_NAME, TA.TABLE_AUTHORITY_ID

#汎用テーブルカテゴリ権限を抽出
TI0021_03: |+
 select /* TI0021_03 */ *
 from MWM_CATEGORY_AUTHORITY CA
 where CA.CORPORATION_CODE = ? and CA.MENU_ROLE_CODE = ?

#汎用テーブル権限を抽出
TI0021_04: |+
 select /* TI0021_04 */ *
 from MWM_TABLE_AUTHORITY TA
 where TA.CORPORATION_CODE = ? and TA.MENU_ROLE_CODE = ?

#参照権限のある汎用テーブル一覧
TI0030_01: |+
 select /* TI0030_01 */
  {REPLACEMENT}
 from
  MWM_CATEGORY C
  inner join MWM_CATEGORY_CONFIG CC
   on CC.CATEGORY_ID = C.CATEGORY_ID
   and CC.DELETE_FLAG = '0'
  inner join MWM_TABLE T
   on T.TABLE_ID = CC.TABLE_ID
   and T.DELETE_FLAG = '0'
  inner join WFM_LOCALE L
   on L.LOCALE_CODE = ?
  left join MWM_MULTILINGUAL M1
   on M1.TABLE_NAME = 'MWM_TABLE'
   and M1.ID = T.TABLE_ID
   and M1.COLUMN_NAME = 'LOGICAL_TABLE_NAME'
   and M1.LOCALE_CODE = L.LOCALE_CODE
   and M1.DELETE_FLAG = '0'
  left join MWM_MULTILINGUAL M2
   on M2.TABLE_NAME = 'MWM_CATEGORY'
   and M2.ID = C.CATEGORY_ID
   and M2.COLUMN_NAME = 'CATEGORY_NAME'
   and M2.LOCALE_CODE = L.LOCALE_CODE
   and M2.DELETE_FLAG = '0'
  left join MWM_LOOKUP L2
   on L2.CORPORATION_CODE = C.CORPORATION_CODE
   and L2.LOOKUP_GROUP_ID = 'ENTITY_TYPE'
   and L2.LOOKUP_ID = T.ENTITY_TYPE
   and L2.LOOKUP_ID = 'T'
   and L2.LOCALE_CODE = L.LOCALE_CODE
   and L2.DELETE_FLAG = '0'
  left join MWM_LOOKUP L3
   on L3.CORPORATION_CODE = C.CORPORATION_CODE
   and L3.LOOKUP_GROUP_ID = 'ENTITY_TYPE'
   and L3.LOOKUP_ID = T.ENTITY_TYPE
   and L3.LOOKUP_ID = 'V'
   and L3.LOCALE_CODE = L.LOCALE_CODE
   and L3.DELETE_FLAG = '0'
 where
  CC.CORPORATION_CODE = ?
  and exists (
   select *
   from MWV_TABLE_AUTHORITY TA
   where
    TA.CORPORATION_CODE = CC.CORPORATION_CODE
    and TA.TABLE_ID = CC.TABLE_ID
    and {MENU_ROLE_CODE}
  )

#「TI0030_01」のSELECT句
TI0030_02: |+
  C.CATEGORY_ID
  , C.CATEGORY_CODE
  , nvl(M2.VAL, C.CATEGORY_NAME) as CATEGORY_NAME
  , T.TABLE_ID
  , T.TABLE_NAME
  , nvl(M1.VAL, T.LOGICAL_TABLE_NAME) as LOGICAL_TABLE_NAME
  , T.ENTITY_TYPE
  , L2.LOOKUP_NAME as ENTITY_TYPE_NAME_TABLE
  , L3.LOOKUP_NAME as ENTITY_TYPE_NAME_VIEW
  , T.VERSION
  , T.DELETE_FLAG
  , (select count(*) from MWM_TABLE_SEARCH S where S.DELETE_FLAG = '0' and S.TABLE_ID = CC.TABLE_ID and S.CORPORATION_CODE = CC.CORPORATION_CODE) as CONDITION_COUNT
  , nvl((
   select count(*)
   from MWM_CONTAINER C
   where C.CORPORATION_CODE = CC.CORPORATION_CODE and C.CONTAINER_ID in (
    select P.CONTAINER_ID
    from MWM_PARTS P
     inner join MWM_PARTS_TABLE_INFO PT
      on PT.PARTS_ID = P.PARTS_ID
     inner join MWM_TABLE_SEARCH TS
      on TS.TABLE_SEARCH_ID = PT.TABLE_SEARCH_ID
      and TS.DELETE_FLAG = '0'
    where
     PT.TABLE_ID = CC.TABLE_ID
   )
  ), 0) as CONTAINER_IN_USE

#カテゴリ一覧
TI0030_03: |+
 select /*TI0030_03*/
  C.CATEGORY_ID,C.CORPORATION_CODE,C.CATEGORY_CODE
  ,nvl(M.VAL, C.CATEGORY_NAME) as CATEGORY_NAME,C.VERSION,C.DELETE_FLAG
  ,C.CORPORATION_CODE_CREATED,C.USER_CODE_CREATED,C.TIMESTAMP_CREATED
  ,C.CORPORATION_CODE_UPDATED,C.USER_CODE_UPDATED,C.TIMESTAMP_UPDATED
 from MWM_CATEGORY C
  left join MWM_MULTILINGUAL M
   on M.TABLE_NAME = 'MWM_CATEGORY'
   and M.ID = C.CATEGORY_ID
   and M.COLUMN_NAME = 'CATEGORY_NAME'
   and M.LOCALE_CODE = ?
   and M.DELETE_FLAG = '0'
 where
  C.CORPORATION_CODE = ?
 order by
  C.CATEGORY_CODE, C.CATEGORY_ID

#表示名を使っているテーブルの絞り込み条件
TI0030_04: |+
 and exists (
  select TS.*
  from MWM_TABLE_SEARCH TS
   left join MWM_MULTILINGUAL M3
    on M3.TABLE_NAME = 'MWM_TABLE_SEARCH'
    and M3.ID = TS.TABLE_SEARCH_ID
    and M3.COLUMN_NAME = 'DISPLAY_NAME'
    and M3.LOCALE_CODE = L.LOCALE_CODE
    and M3.DELETE_FLAG = '0'
  where
   TS.TABLE_ID = T.TABLE_ID
   and nvl(M3.VAL, TS.DISPLAY_NAME) like ? escape '~'
 )

#汎用テーブルマスタを抽出
TI0040_01: |+
 select /* TI0040_01 */
  T.TABLE_ID,T.TABLE_NAME,nvl(M.VAL, T.LOGICAL_TABLE_NAME) as LOGICAL_TABLE_NAME
  ,T.ENTITY_TYPE, L1.LOOKUP_NAME as ENTITY_TYPE_NAME_TABLE
  ,L2.LOOKUP_NAME as ENTITY_TYPE_NAME_VIEW,T.VERSION,T.DELETE_FLAG
  ,T.CORPORATION_CODE_CREATED,T.USER_CODE_CREATED,T.TIMESTAMP_CREATED
  ,T.CORPORATION_CODE_UPDATED,T.USER_CODE_UPDATED,T.TIMESTAMP_UPDATED
 from MWM_TABLE T
  inner join WFM_LOCALE L
   on L.LOCALE_CODE = ?
  inner join WFM_CORPORATION C
   on C.CORPORATION_CODE = ?
  left join MWM_MULTILINGUAL M
   on M.TABLE_NAME = 'MWM_TABLE'
   and M.ID = T.TABLE_ID
   and M.COLUMN_NAME = 'LOGICAL_TABLE_NAME'
   and M.LOCALE_CODE = L.LOCALE_CODE
   and M.DELETE_FLAG = '0'
  left join MWM_LOOKUP L1
   on L1.CORPORATION_CODE = C.CORPORATION_CODE
   and L1.LOOKUP_GROUP_ID = 'ENTITY_TYPE'
   and L1.LOOKUP_ID = T.ENTITY_TYPE
   and L1.LOOKUP_ID = 'T'
   and L1.LOCALE_CODE = L.LOCALE_CODE
   and L1.DELETE_FLAG = '0'
  left join MWM_LOOKUP L2
   on L2.CORPORATION_CODE = C.CORPORATION_CODE
   and L2.LOOKUP_GROUP_ID = 'ENTITY_TYPE'
   and L2.LOOKUP_ID = T.ENTITY_TYPE
   and L2.LOOKUP_ID = 'V'
   and L2.LOCALE_CODE = L.LOCALE_CODE
   and L2.DELETE_FLAG = '0'
 where
  T.TABLE_ID = ?

#汎用テーブル権限があるか
TI0040_03: |+
 select /* TI0040_03 */ count(*)
 from MWV_TABLE_AUTHORITY
 where TABLE_ID = ? and

#汎用テーブル検索一覧
TI0050_01: |+
 select /* TI0050_01 */
  {SELECT}
 from
  MWM_TABLE_SEARCH S
  inner join WFM_LOCALE L
   on L.LOCALE_CODE = ?
  inner join MWM_TABLE T
   on T.TABLE_ID = S.TABLE_ID
   and T.DELETE_FLAG = '0'
  left join MWM_MULTILINGUAL M1
   on M1.TABLE_NAME = 'MWM_TABLE_SEARCH'
   and M1.ID = S.TABLE_SEARCH_ID
   and M1.COLUMN_NAME = 'TABLE_SEARCH_NAME'
   and M1.LOCALE_CODE = L.LOCALE_CODE
   and M1.DELETE_FLAG = '0'
  left join MWM_MULTILINGUAL M2
   on M2.TABLE_NAME = 'MWM_TABLE'
   and M2.ID = T.TABLE_ID
   and M2.COLUMN_NAME = 'LOGICAL_TABLE_NAME'
   and M2.LOCALE_CODE = L.LOCALE_CODE
   and M2.DELETE_FLAG = '0'
  left join MWM_MULTILINGUAL M3
   on M3.TABLE_NAME = 'MWM_TABLE_SEARCH'
   and M3.ID = S.TABLE_SEARCH_ID
   and M3.COLUMN_NAME = 'DISPLAY_NAME'
   and M3.LOCALE_CODE = L.LOCALE_CODE
   and M3.DELETE_FLAG = '0'
  left join MWM_LOOKUP L1
   on L1.CORPORATION_CODE = S.CORPORATION_CODE
   and L1.LOOKUP_GROUP_ID = 'ENTITY_TYPE'
   and L1.LOOKUP_ID = T.ENTITY_TYPE
   and L1.LOOKUP_ID = 'T'
   and L1.LOCALE_CODE = L.LOCALE_CODE
   and L1.DELETE_FLAG = '0'
  left join MWM_LOOKUP L2
   on L2.CORPORATION_CODE = S.CORPORATION_CODE
   and L2.LOOKUP_GROUP_ID = 'COMMON_FLAG'
   and L2.LOOKUP_ID = S.DEFAULT_SEARCH_FLAG
   and L2.LOCALE_CODE = L.LOCALE_CODE
   and L2.DELETE_FLAG = '0'
  left join WFM_LOOKUP L3
   on L3.CORPORATION_CODE = S.CORPORATION_CODE
   and L3.LOOKUP_TYPE_CODE = 'DELETE_FLAG'
   and L3.LOOKUP_CODE = S.DELETE_FLAG
   and L3.LOCALE_CODE = L.LOCALE_CODE
   and L3.DELETE_FLAG = '0'
  left join MWM_LOOKUP L4
   on L4.CORPORATION_CODE = S.CORPORATION_CODE
   and L4.LOOKUP_GROUP_ID = 'ENTITY_TYPE'
   and L4.LOOKUP_ID = T.ENTITY_TYPE
   and L4.LOOKUP_ID = 'T'
   and L4.LOCALE_CODE = L.LOCALE_CODE
   and L4.DELETE_FLAG = '0'
 where
  S.CORPORATION_CODE = ?
  and S.TABLE_ID = ?
  and exists (
   select *
   from MWV_TABLE_AUTHORITY TA
   where TA.CORPORATION_CODE = S.CORPORATION_CODE
    and TA.TABLE_ID = S.TABLE_ID
    and {MENU_ROLE_CODE}
  )

#「TI0050_01」のSELECT句
TI0050_02: |+
  S.TABLE_SEARCH_ID, S.CORPORATION_CODE, S.TABLE_SEARCH_CODE
  , nvl(M1.VAL, S.TABLE_SEARCH_NAME) as TABLE_SEARCH_NAME
  , nvl(M3.VAL, S.DISPLAY_NAME) as DISPLAY_NAME
  , S.TABLE_ID, S.DEFAULT_SEARCH_FLAG, L2.LOOKUP_NAME as DEFAULT_SEARCH_FLAG_FLAG
  , S.VERSION, T.TABLE_NAME, nvl(M2.VAL, T.LOGICAL_TABLE_NAME) as LOGICAL_TABLE_NAME
  , T.ENTITY_TYPE, L1.LOOKUP_NAME as ENTITY_TYPE_NAME_TABLE
  , L4.LOOKUP_NAME as ENTITY_TYPE_NAME_VIEW
  , S.DELETE_FLAG, L3.LOOKUP_NAME as DELETE_FLAG_NAME

#汎用テーブル検索条件カラムの抽出
TI0050_03: |+
 select /* TI0050_03 */ * from MWM_TABLE_SEARCH_COLUMN where TABLE_SEARCH_ID = ?

#汎用テーブルを使用しているコンテナ一覧
TI0050_04: |+
 select /* TI0050_04 */
  ROWNUM as ID, PT.TABLE_SEARCH_ID, C.CONTAINER_ID, C.CORPORATION_CODE, C.CONTAINER_CODE, C.CONTAINER_NAME, C.LOCALE_CODE
 from MWV_CONTAINER C
  inner join MWM_PARTS P
   on P.CONTAINER_ID = C.CONTAINER_ID and P.DELETE_FLAG = '0'
  inner join MWM_PARTS_TABLE_INFO PT
   on PT.PARTS_ID = P.PARTS_ID and PT.DELETE_FLAG = '0'
  inner join MWM_TABLE_SEARCH TS
   on TS.TABLE_SEARCH_ID = PT.TABLE_SEARCH_ID
   and TS.DELETE_FLAG = '0'
 where
  PT.DELETE_FLAG = '0' and C.LOCALE_CODE = ?

#汎用テーブル検索条件を1レコード抽出
TI0051_01: |+
 select /* TI0051_01 */
  S.TABLE_SEARCH_ID, S.TABLE_ID, S.CORPORATION_CODE, S.TABLE_SEARCH_CODE
  , nvl(M.VAL, S.TABLE_SEARCH_NAME) as TABLE_SEARCH_NAME
  , nvl(M2.VAL, S.DISPLAY_NAME) as DISPLAY_NAME
  , S.DEFAULT_SEARCH_FLAG, S.VERSION, S.DELETE_FLAG, L1.LOOKUP_NAME as DELETE_FLAG_NAME
  , T.ENTITY_TYPE, L2.LOOKUP_NAME as ENTITY_TYPE_NAME_TABLE, T.TABLE_NAME
  , L3.LOOKUP_NAME as ENTITY_TYPE_NAME_VIEW
  , S.CORPORATION_CODE_CREATED, S.USER_CODE_CREATED, S.TIMESTAMP_CREATED
  , S.CORPORATION_CODE_UPDATED, S.USER_CODE_UPDATED, S.TIMESTAMP_UPDATED
 from MWM_TABLE_SEARCH S
  inner join MWM_TABLE T
   on T.TABLE_ID = S.TABLE_ID
   and T.DELETE_FLAG = '0'
  inner join WFM_LOCALE L
   on L.LOCALE_CODE = ?
  left join MWM_MULTILINGUAL M
   on M.TABLE_NAME = 'MWM_TABLE_SEARCH'
   and M.ID = S.TABLE_SEARCH_ID
   and M.COLUMN_NAME = 'TABLE_SEARCH_NAME'
   and M.LOCALE_CODE = L.LOCALE_CODE
   and M.DELETE_FLAG = '0'
  left join MWM_MULTILINGUAL M2
   on M2.TABLE_NAME = 'MWM_TABLE_SEARCH'
   and M2.ID = S.TABLE_SEARCH_ID
   and M2.COLUMN_NAME = 'DISPLAY_NAME'
   and M2.LOCALE_CODE = L.LOCALE_CODE
   and M2.DELETE_FLAG = '0'
  left join WFM_LOOKUP L1
   on L1.CORPORATION_CODE = S.CORPORATION_CODE
   and L1.LOOKUP_TYPE_CODE = 'DELETE_FLAG'
   and L1.LOOKUP_CODE = S.DELETE_FLAG
   and L1.LOCALE_CODE = L.LOCALE_CODE
   and L1.DELETE_FLAG = '0'
  left join MWM_LOOKUP L2
   on L2.CORPORATION_CODE = S.CORPORATION_CODE
   and L2.LOOKUP_GROUP_ID = 'ENTITY_TYPE'
   and L2.LOOKUP_ID = T.ENTITY_TYPE
   and L2.LOOKUP_ID = 'T'
   and L2.LOCALE_CODE = L.LOCALE_CODE
   and L2.DELETE_FLAG = '0'
  left join MWM_LOOKUP L3
   on L3.CORPORATION_CODE = S.CORPORATION_CODE
   and L3.LOOKUP_GROUP_ID = 'ENTITY_TYPE'
   and L3.LOOKUP_ID = T.ENTITY_TYPE
   and L3.LOOKUP_ID = 'V'
   and L3.LOCALE_CODE = L.LOCALE_CODE
   and L3.DELETE_FLAG = '0'
 where

#汎用テーブル検索条件カラムを抽出
TI0051_02: |+
 select /* TI0051_02 */
  C.TABLE_SEARCH_COLUMN_ID, C.TABLE_SEARCH_ID, C.COLUMN_NAME
  , nvl(M.VAL, C.LOGICA_COLUMN_NAME) as LOGICA_COLUMN_NAME
  , C.SORT_ORDER, C.CONDITION_DISPLAY_TYPE, L2.LOOKUP_NAME as CONDITION_DISPLAY_TYPE_NAME
  , C.CONDITION_DISPLAY_POSITION, C.CONDITION_MATCH_TYPE, L3.LOOKUP_NAME as CONDITION_MATCH_TYPE_NAME
  , C.CONDITION_OPTION_ID, C.CONDITION_INIT_TYPE_1, L4.LOOKUP_NAME as CONDITION_INIT_TYPE_NAME_1
  , C.CONDITION_INIT_VALUE_1, C.CONDITION_INIT_TYPE_2, L5.LOOKUP_NAME as CONDITION_INIT_TYPE_NAME_2
  , C.CONDITION_INIT_VALUE_2, C.RESULT_DISPLAY_TYPE, L6.LOOKUP_NAME as RESULT_DISPLAY_TYPE_NAME
  , C.CONDITION_KANA_CONVERT_TYPE, L11.LOOKUP_NAME as CONDITION_KANA_CONVERT_TYPE_NM
  , C.CONDITION_TRIM_FLAG, L12.LOOKUP_NAME as CONDITION_TRIM_FLAG_NAME
  , C.RESULT_DISPLAY_POSITION, C.RESULT_DISPLAY_WIDTH
  , C.RESULT_ALIGN_TYPE, L7.LOOKUP_NAME as RESULT_ALIGN_TYPE_NAME
  , C.RESULT_ORDER_BY_POSITION, C.RESULT_ORDER_BY_DIRECTION
  , L8.LOOKUP_NAME as RESULT_ORDER_BY_DIRECTION_NAME
  , C.SEARCH_COLUMN_TYPE, L9.LOOKUP_NAME as SEARCH_COLUMN_TYPE_NAME
  , C.CONDITION_BLANK_TYPE, L10.LOOKUP_NAME as CONDITION_BLANK_TYPE_NAME
  , C.VERSION, C.DELETE_FLAG
  , C.CORPORATION_CODE_CREATED, C.USER_CODE_CREATED, C.TIMESTAMP_CREATED
  , C.CORPORATION_CODE_UPDATED, C.USER_CODE_UPDATED, C.TIMESTAMP_UPDATED
 from MWM_TABLE_SEARCH_COLUMN C
  inner join WFM_LOCALE L
   on L.LOCALE_CODE = ?
  inner join WFM_CORPORATION C
   on C.CORPORATION_CODE = ?
  left join MWM_MULTILINGUAL M
   on M.TABLE_NAME = 'MWM_TABLE_SEARCH_COLUMN'
   and M.ID = C.TABLE_SEARCH_COLUMN_ID
   and M.COLUMN_NAME = 'LOGICA_COLUMN_NAME'
   and M.LOCALE_CODE = L.LOCALE_CODE
   and M.DELETE_FLAG = '0'
  left join MWM_LOOKUP L2
   on L2.CORPORATION_CODE = C.CORPORATION_CODE
   and L2.LOOKUP_GROUP_ID = 'CONDITION_DISPLAY_TYPE'
   and L2.LOOKUP_ID = C.CONDITION_DISPLAY_TYPE
   and L2.LOCALE_CODE = L.LOCALE_CODE
   and L2.DELETE_FLAG = '0'
  left join MWM_LOOKUP L3
   on L3.CORPORATION_CODE = C.CORPORATION_CODE
   and L3.LOOKUP_GROUP_ID = 'CONDITION_MATCH_TYPE'
   and L3.LOOKUP_ID = C.CONDITION_MATCH_TYPE
   and L3.LOCALE_CODE = L.LOCALE_CODE
   and L3.DELETE_FLAG = '0'
  left join MWM_LOOKUP L4
   on L4.CORPORATION_CODE = C.CORPORATION_CODE
   and L4.LOOKUP_GROUP_ID = 'CONDITION_INIT_TYPE'
   and L4.LOOKUP_ID = C.CONDITION_INIT_TYPE_1
   and L4.LOCALE_CODE = L.LOCALE_CODE
   and L4.DELETE_FLAG = '0'
  left join MWM_LOOKUP L5
   on L5.CORPORATION_CODE = C.CORPORATION_CODE
   and L5.LOOKUP_GROUP_ID = 'CONDITION_INIT_TYPE'
   and L5.LOOKUP_ID = C.CONDITION_INIT_TYPE_2
   and L5.LOCALE_CODE = L.LOCALE_CODE
   and L5.DELETE_FLAG = '0'
  left join MWM_LOOKUP L6
   on L6.CORPORATION_CODE = C.CORPORATION_CODE
   and L6.LOOKUP_GROUP_ID = 'RESULT_DISPLAY_TYPE'
   and L6.LOOKUP_ID = C.RESULT_DISPLAY_TYPE
   and L6.LOCALE_CODE = L.LOCALE_CODE
   and L6.DELETE_FLAG = '0'
  left join MWM_LOOKUP L7
   on L7.CORPORATION_CODE = C.CORPORATION_CODE
   and L7.LOOKUP_GROUP_ID = 'RESULT_ALIGN_TYPE'
   and L7.LOOKUP_ID = C.RESULT_ALIGN_TYPE
   and L7.LOCALE_CODE = L.LOCALE_CODE
   and L7.DELETE_FLAG = '0'
  left join MWM_LOOKUP L8
   on L8.CORPORATION_CODE = C.CORPORATION_CODE
   and L8.LOOKUP_GROUP_ID = 'RESULT_ORDER_BY_DIRECTION'
   and L8.LOOKUP_ID = C.RESULT_ORDER_BY_DIRECTION
   and L8.LOCALE_CODE = L.LOCALE_CODE
   and L8.DELETE_FLAG = '0'
  left join MWM_LOOKUP L9
   on L9.CORPORATION_CODE = C.CORPORATION_CODE
   and L9.LOOKUP_GROUP_ID = 'SEARCH_COLUMN_TYPE'
   and L9.LOOKUP_ID = C.SEARCH_COLUMN_TYPE
   and L9.LOCALE_CODE = L.LOCALE_CODE
   and L9.DELETE_FLAG = '0'
  left join MWM_LOOKUP L10
   on L10.CORPORATION_CODE = C.CORPORATION_CODE
   and L10.LOOKUP_GROUP_ID = 'CONDITION_BLANK_TYPE'
   and L10.LOOKUP_ID = C.CONDITION_BLANK_TYPE
   and L10.LOCALE_CODE = L.LOCALE_CODE
   and L10.DELETE_FLAG = '0'
  left join MWM_LOOKUP L11
   on L11.CORPORATION_CODE = C.CORPORATION_CODE
   and L11.LOOKUP_GROUP_ID = 'CONDITION_KANA_CONVERT_TYPE'
   and L11.LOOKUP_ID = C.CONDITION_KANA_CONVERT_TYPE
   and L11.LOCALE_CODE = L.LOCALE_CODE
   and L11.DELETE_FLAG = '0'
  left join MWM_LOOKUP L12
   on L12.CORPORATION_CODE = C.CORPORATION_CODE
   and L12.LOOKUP_GROUP_ID = 'CONDITION_TRIM_FLAG'
   and L12.LOOKUP_ID = C.CONDITION_TRIM_FLAG
   and L12.LOCALE_CODE = L.LOCALE_CODE
   and L12.DELETE_FLAG = '0'
 where
  C.TABLE_SEARCH_ID = ?
 order by
  C.SORT_ORDER, C.TABLE_SEARCH_COLUMN_ID

#検索条件コードの重複チェック
TI0051_03: |+
 select /*TI0051_03*/ count(*)
 from MWM_TABLE_SEARCH
 where CORPORATION_CODE = ? and TABLE_ID = ? and TABLE_SEARCH_CODE = ? and TABLE_SEARCH_ID != ?


#検索条件ID配下の検索条件カラムを抽出
TI0051_04: |+
 select /* TI0051_04 */ *
 from MWM_TABLE_SEARCH_COLUMN
 where TABLE_SEARCH_ID = ?

#選択肢マスタの抽出
TI0052_01: |+
 select /* TI0052_01 */ O.OPTION_ID, O.OPTION_CODE, nvl(M1.VAL, O.OPTION_NAME) AS OPTION_NAME
  , O.CORPORATION_CODE, O.DELETE_FLAG, O.VERSION
 from MWM_OPTION O
  inner join WFM_LOCALE LO
   on LO.LOCALE_CODE = ?
  left join MWM_MULTILINGUAL M1
   on M1.TABLE_NAME = 'MWM_OPTION'
   and M1.ID = O.OPTION_ID
   and M1.COLUMN_NAME = 'OPTION_NAME'
   and M1.LOCALE_CODE = LO.LOCALE_CODE
   and M1.DELETE_FLAG = '0'
 where
  O.CORPORATION_CODE = ?



